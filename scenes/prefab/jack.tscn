[gd_scene load_steps=27 format=3]

[ext_resource type="Script" path="res://scripts/jack.gd" id="1"]
[ext_resource type="Texture2D" uid="uid://bsx0x163mye0y" path="res://asset/jack/sprite/f_jack0001.png" id="2"]
[ext_resource type="Texture2D" uid="uid://w84tdsst0y0x" path="res://asset/jack/sprite/f_jack0003.png" id="3"]
[ext_resource type="Texture2D" uid="uid://bjqka2gwuvvmf" path="res://asset/jack/sprite/f_jack0005.png" id="4"]
[ext_resource type="Texture2D" uid="uid://cgxk2lp7k76vu" path="res://asset/jack/sprite/f_jack0007.png" id="5"]
[ext_resource type="Texture2D" uid="uid://btkgq6ic6c38f" path="res://asset/jack/sprite/f_jack0009.png" id="6"]
[ext_resource type="Texture2D" uid="uid://qpswihovkp5" path="res://asset/jack/sprite/f_jack0011.png" id="7"]
[ext_resource type="Texture2D" uid="uid://b355e1j7j5abn" path="res://asset/jack/sprite/f_jack0013.png" id="8"]
[ext_resource type="Texture2D" uid="uid://cvvqudddholp0" path="res://asset/jack/sprite/f_jack0015.png" id="9"]
[ext_resource type="Texture2D" uid="uid://dua2fswjg0jm5" path="res://asset/jack/sprite/f_jack0017.png" id="10"]
[ext_resource type="Texture2D" uid="uid://3qn58jaq14fc" path="res://asset/jack/sprite/f_jack0019.png" id="11"]
[ext_resource type="Texture2D" uid="uid://bqbs2c00o0hl7" path="res://asset/jack/sprite/f_jack0021.png" id="12"]
[ext_resource type="Texture2D" uid="uid://d3arauyu2hoha" path="res://asset/jack/sprite/f_jack0023.png" id="13"]
[ext_resource type="Texture2D" uid="uid://dychrut2rkeju" path="res://asset/jack/sprite/f_jack0025.png" id="14"]
[ext_resource type="Texture2D" uid="uid://b2w5c0miahym8" path="res://asset/jack/sprite/f_jack0027.png" id="15"]
[ext_resource type="Texture2D" uid="uid://b1h6bt11hbvmt" path="res://asset/jack/sprite/f_jack0029.png" id="16"]
[ext_resource type="Script" path="res://scripts/shadow.gd" id="17"]
[ext_resource type="Texture2D" uid="uid://dn70rg7oj8p0o" path="res://asset/effect/sparkle/sparkle.png" id="18"]

[sub_resource type="SpriteFrames" id="1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource( "2" )
}, {
"duration": 1.0,
"texture": ExtResource( "3" )
}, {
"duration": 1.0,
"texture": ExtResource( "4" )
}, {
"duration": 1.0,
"texture": ExtResource( "5" )
}, {
"duration": 1.0,
"texture": ExtResource( "6" )
}, {
"duration": 1.0,
"texture": ExtResource( "7" )
}, {
"duration": 1.0,
"texture": ExtResource( "8" )
}, {
"duration": 1.0,
"texture": ExtResource( "9" )
}, {
"duration": 1.0,
"texture": ExtResource( "10" )
}, {
"duration": 1.0,
"texture": ExtResource( "11" )
}, {
"duration": 1.0,
"texture": ExtResource( "12" )
}, {
"duration": 1.0,
"texture": ExtResource( "13" )
}, {
"duration": 1.0,
"texture": ExtResource( "14" )
}, {
"duration": 1.0,
"texture": ExtResource( "15" )
}, {
"duration": 1.0,
"texture": ExtResource( "16" )
}],
"loop": true,
"name": &"default",
"speed": 20.0
}]
script = null

[sub_resource type="CylinderShape3D" id="2"]
height = 3.0
radius = 2.2775
script = null

[sub_resource type="StandardMaterial3D" id="3"]
transparency = 1
shading_mode = 0
diffuse_mode = 1
vertex_color_use_as_albedo = true
albedo_texture = ExtResource( "18" )
texture_filter = 2
billboard_mode = 3
billboard_keep_scale = true
particles_anim_h_frames = 2
particles_anim_v_frames = 3
particles_anim_loop = false
script = null

[sub_resource type="Curve" id="4"]
max_value = 2.0
_data = [Vector2(0, 1.2973), 0.0, -8.44541, 0, 0, Vector2(0.0752688, 1), 0.0, 0.0, 0, 0, Vector2(0.430108, 0.986486), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4
script = null

[sub_resource type="CurveTexture" id="5"]
curve = SubResource( "4" )
script = null

[sub_resource type="ParticleProcessMaterial" id="6"]
emission_shape = 1
emission_sphere_radius = 2.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource( "5" )
anim_speed_min = 1.25
anim_speed_max = 1.25
script = null

[sub_resource type="QuadMesh" id="7"]
size = Vector2(1.5, 1.5)
script = null

[sub_resource type="GDScript" id="8"]
resource_name = "sparkles"
script/source = "extends GPUParticles3D

func emit() -> void:
	restart()
	await get_tree().create_timer(lifetime).timeout
	queue_free()
"

[node name="jack" type="Area3D"]
collision_layer = 0
collision_mask = 2
monitorable = false
script = ExtResource( "1" )
metadata/_edit_group_ = true

[node name="vis" type="AnimatedSprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.35, 0)
layers = 4
cast_shadow = 0
pixel_size = 0.065
billboard = 1
double_sided = false
alpha_cut = 2
alpha_antialiasing_mode = 1
texture_filter = 2
sprite_frames = SubResource( "1" )
frame_progress = 0.17246

[node name="col" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.35, 0)
shape = SubResource( "2" )

[node name="shadow" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0145, 0)
target_position = Vector3(0, -25, 0)
script = ExtResource( "17" )
size = 3.0

[node name="sparkles" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.078, 0)
material_override = SubResource( "3" )
emitting = false
amount = 5
lifetime = 0.7
one_shot = true
explosiveness = 0.8
visibility_aabb = AABB(-4.48035, -3.10728, -4.58884, 8.40027, 8.06036, 9.69584)
process_material = SubResource( "6" )
draw_pass_1 = SubResource( "7" )
script = SubResource( "8" )

[connection signal="body_entered" from="." to="." method="_body_entered"]
